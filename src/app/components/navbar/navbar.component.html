<nav class="navbar navbar-default navbar-xs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" (click)="isCollapsed = !isCollapsed">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Polyglot</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse" [class.show]="!isCollapsed">
      <ul class="nav navbar-nav navbar-left">
        <li [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/']" (click)="isCollapsed = !isCollapsed">Home</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li *ngIf="authService.loggedIn()" [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/dashboard']" (click)="isCollapsed = !isCollapsed">Dashboard</a></li>
        <li *ngIf="authService.loggedIn()" [routerLinkActive]="['active']" class="dropdown" appDropdown>
          <a class="dropdown-toggle" data-toggle="dropdown" id="nsMenu" aria-haspopup="true" aria-expanded="false">NodeServers<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/addnode']" (click)="isCollapsed = !isCollapsed">Add NodeServer</a></li>
            <li class="divider dropdown-divider"></li>
            <li [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/getns']" (click)="isCollapsed = !isCollapsed">NodeServer Store</a></li>
          </ul>
        </li>
        <li *ngIf="authService.loggedIn()" [routerLinkActive]="['active']" class="dropdown" appDropdown>
          <a class="dropdown-toggle" data-toggle="dropdown" id="nsMenu" aria-haspopup="true" aria-expanded="false">Settings<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/settings']" (click)="isCollapsed = !isCollapsed">Settings</a></li>
            <li class="divider dropdown-divider"></li>
            <li [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/profile']" (click)="isCollapsed = !isCollapsed">Profile</a></li>
          </ul>
        </li>
        <li *ngIf="authService.loggedIn()" [routerLinkActive]="['active']" class="dropdown" appDropdown>
          <a class="dropdown-toggle" data-toggle="dropdown" id="restartMenu" aria-haspopup="true" aria-expanded="false">Restart<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li role="dropdown-item"><a class="dropdown-item" (click)="showRestartConfirm()" class="dropdown-item">Restart Polyglot</a></li>
            <li class="divider dropdown-divider"></li>
            <li role="dropdown-item"><a class="dropdown-item" (click)="showConfirm()" class="dropdown-item">Reboot ISY</a></li>
          </ul>
        </li>
        <li *ngIf="authService.loggedIn()" [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/log']" (click)="isCollapsed = !isCollapsed">Log</a></li>
        <li *ngIf="!authService.loggedIn()" [routerLinkActive] = "['active']" [routerLinkActiveOptions] = "{exact:true}"><a [routerLink]="['/login']" (click)="isCollapsed = !isCollapsed">Login</a></li>
        <li *ngIf="authService.loggedIn()"><a (click)="onLogoutClick()" href="#">Logout</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div *ngIf="authService.loggedIn()">
  <div *ngIf="!mqttConnected" class="alert alert-dismissible alert-danger text-center">
    <p>Not connected to server... Try refreshing the page. This will disappear once the connection is re-established.</p>
  </div>
</div>
